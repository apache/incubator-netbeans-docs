<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Fri Sep 14 11:34:48 BST 2018 -->
<title>ConstructorDelegate (Module System API)</title>
<meta name="date" content="2018-09-14">
<link rel="stylesheet" type="text/css" href="../../../javadoc.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConstructorDelegate (Module System API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../org/openide/modules/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConstructorDelegate.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">org.openide.modules 7.50.1 </div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../org/openide/modules/Dependency.html" title="class in org.openide.modules"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/openide/modules/ConstructorDelegate.html" target="_top">Frames</a></li>
<li><a href="ConstructorDelegate.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.openide.modules</div>
<h2 title="Annotation Type ConstructorDelegate" class="title">Annotation Type ConstructorDelegate</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://download.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://download.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://download.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#CLASS" title="class or interface in java.lang.annotation">CLASS</a>)
 <a href="http://download.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://download.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://download.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>)
public @interface <span class="memberNameLabel">ConstructorDelegate</span></pre>
<div class="block">Marks a code that implements constructor contract for backward compatibility.
 A static void method must be annotated, name is irrelevant. The method must
 take the enclosing type marked by <code>@PatchFor</code> implementation type
 as its first parameter. The rest of parameter types will be used to generate
 a constructor in the original API class, with the same thrown exceptions and
 access modifiers.
 <p/>
 The generated constructor will first call
 <b>the default constructor</b> of the API class, then delegate the
 initialization work to the static method passing <code>this</code> typed as
 the <a href="../../../org/openide/modules/PatchFor.html" title="annotation in org.openide.modules"><code>@PatchFor</code></a>
 class as the first parameter. Formally, at compile-time, the API class does
 not derive from the <code>@PatchFor</code> supertype. Passing the new
 instance typed as the API class would require type casting to the
 <code>@PatchFor</code> supertype in order to access the data for the injected
 code.
 <p/>
 The annotation has only effect if the method's declaring class was annotated
 using <a href="../../../org/openide/modules/PatchFor.html" title="annotation in org.openide.modules"><code>@PatchFor</code></a>.
 <p/>
 Take, for example, the following code from <code>openide.filesystems</code> module:
 <code><pre>
  &#064PatchFor(JarFileSystem.class)
 public abstract class JarFileSystemCompat extends AbstractFileSystem {
    &#064ConstructorDelegate
   public static void createJarFileSystemCompat(JarFileSystemCompat jfs, FileSystemCapability cap) throws IOException {
     ...
   }
 }
 </pre></code>
 Will cause generate, at runtime (during class loading), a new constructor in the
 <code>JarFileSystem</code> class: 
 <code><pre>
      JarFileSystem(FileSystemCapability c) throws IOException {
          this();
          JarFileSystemCompat.createJarFileSystemCompat(this, c);
      }
 </pre></code>
 <p/>
 In the case it is necessary to invoke a <b>non-default</b> constructor, the
 <a href="../../../org/openide/modules/ConstructorDelegate.html#delegateParams--"><code>delegateParams()</code></a> attribute enumerates which parameters of the static 
 annotated method are also passed to the non-default constructor. Parameter positions
 are zero-based (0 = the object type itself) and must be listed in the same order 
 and have the same types as in the invoked constructor declaration.

 <code><pre>
  &#064PatchFor(JarFileSystem.class)
 public abstract class JarFileSystemCompat extends AbstractFileSystem {
    &#064ConstructorDelegate(delegateParams = {1, 2} )
   public static void createJarFileSystemCompat(JarFileSystemCompat jfs, FileSystemCapability cap, File f) throws IOException {
     ...
   }
 }
 </pre></code>
 will produce an equivalent of
 <code><pre>
      JarFileSystem(FileSystemCapability cap, File f) throws IOException {
          this(f);
          JarFileSystemCompat.createJarFileSystemCompat(this, cap, f);
      }
 </pre></code></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>7.44</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/openide/modules/PatchFor.html" title="annotation in org.openide.modules"><code>PatchFor</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/openide/modules/ConstructorDelegate.html#delegateParams--">delegateParams</a></span></code>
<div class="block">Specifies the position of parameters passed to the real class' constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="delegateParams--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>delegateParams</h4>
<pre>public abstract&nbsp;int[]&nbsp;delegateParams</pre>
<div class="block">Specifies the position of parameters passed to the real class' constructor.
 The array must contain an item for each parameter passed to the real constructor, in the
 order specified by the invoked constructor signature.
 Each item is a zero-based parameter position in the static creation method signature.
 Order and type of the referenced parameters must match the target constructor signature.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>-1</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../org/openide/modules/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConstructorDelegate.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">org.openide.modules 7.50.1 </div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../org/openide/modules/Dependency.html" title="class in org.openide.modules"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/openide/modules/ConstructorDelegate.html" target="_top">Frames</a></li>
<li><a href="ConstructorDelegate.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><span class="footnote">Built on September 14 2018.&nbsp;&nbsp;|&nbsp;&nbsp;         Copyright &#169; 2017-2018 Apache Software Foundation. All Rights Reserved.</span></small></p>
</body>
</html>
